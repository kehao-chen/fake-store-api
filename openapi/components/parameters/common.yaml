# 通用參數定義
PageSize:
  name: page_size
  in: query
  description: 每頁結果數量
  required: false
  schema:
    type: integer
    minimum: 1
    maximum: 100
    default: 20
  example: 20

PageToken:
  name: page_token
  in: query
  description: 分頁令牌（Base64 編碼之游標，耦合當前排序與篩選）
  required: false
  schema:
    type: string
  example: "eyJvZmZzZXQiOjIwfS1zaGE6YTIzNCI="

Filter:
  name: filter
  in: query
  description: |
    篩選條件，使用結構化查詢語法 (符合 AIP-160 標準)
    
    ## 支援的操作符
    - `=` 或 `:` - 相等比較
    - `!=` 或 `<>` - 不相等比較
    - `>` - 大於
    - `>=` - 大於或等於
    - `<` - 小於
    - `<=` - 小於或等於
    - `AND` - 邏輯 AND
    - `OR` - 邏輯 OR
    - `NOT` - 邏輯 NOT
    
    ## 範例
    - `category:"electronics"` - 分類為 electronics
    - `price>50 AND price<100` - 價格在 50-100 之間
    - `name:"mouse" OR description:"wireless"` - 名稱包含 mouse 或描述包含 wireless
    
  required: false
  schema:
    type: string
  examples:
    category_filter:
      summary: 按分類篩選
      value: 'category:"electronics"'
    price_range:
      summary: 價格範圍篩選
      value: 'price>50 AND price<100'
    text_search:
      summary: 文字搜尋
      value: 'name:"mouse" OR description:"wireless"'
    complex_filter:
      summary: 複合條件
      value: 'category:"electronics" AND price>20 AND is_active=true'

OrderBy:
  name: order_by
  in: query
  description: |
    排序欄位和方向
    
    ## 格式
    `field_name [asc|desc]`
    
    ## 支援的欄位
    - `name` - 名稱
    - `price` - 價格
    - `created_at` - 建立時間
    - `updated_at` - 更新時間
    
    ## 預設排序
    大多數端點預設為 `created_at desc` (最新的在前面)
    
  required: false
  schema:
    type: string
    default: "created_at desc"
  examples:
    name_asc:
      summary: 名稱升序
      value: "name asc"
    price_desc:
      summary: 價格降序
      value: "price desc"
    newest_first:
      summary: 最新的在前面
      value: "created_at desc"
    oldest_first:
      summary: 最舊的在前面
      value: "created_at asc"

View:
  name: view
  in: query
  description: |
    指定回傳的資源視圖，用於控制是否包含已軟刪除的項目。
    - `ACTIVE`: (預設) 只返回活動資源。
    - `ALL`: 返回所有資源，包含已軟刪除的項目 (僅管理員)。
    - `DELETED_ONLY`: 只返回已軟刪除的資源 (僅管理員)。
  required: false
  schema:
    type: string
    enum:
      - ACTIVE
      - ALL
      - DELETED_ONLY
    default: ACTIVE
  examples:
    all_resources:
      summary: 包含已刪除的資源
      value: "ALL"
    deleted_only:
      summary: 僅查詢已刪除的資源
      value: "DELETED_ONLY"
